{"ast":null,"code":"var _jsxFileName = \"/Users/madelinekim/Documents/GitHub/safe_walk_ai/client/src/components/Safety/Safety.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useGeolocated } from \"react-geolocated\";\nimport \"./styles.css\";\nimport dog from './dog.gif';\nimport Navbar from \"../Navbar/Navbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Safety = () => {\n  _s();\n  const [longitude, setLongitude] = useState(null);\n  const [latitude, setLatitude] = useState(null);\n  const [danger, setDanger] = useState(null);\n  const {\n    coords\n  } = useGeolocated();\n  useEffect(() => {\n    if (coords) {\n      setLongitude(coords.longitude);\n      setLatitude(coords.latitude);\n    }\n  }, [coords]);\n  const handlePredict = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5000/predict\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          longitude: longitude,\n          latitude: latitude\n        })\n      });\n      const data = await response.json();\n      setDanger(data.message);\n    } catch (error) {\n      console.error(\"Error predicting danger:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"heading\",\n        children: \"How safe is it to walk in my area?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: dog,\n        alt: \"doggif\",\n        height: \"100vh\",\n        className: \"dog\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"description\",\n        children: [\"Our safety prediction tool is built off of an AI model trained using thousands of data points on violent crime in the Toronto area. We're currently tracking your location at longitude: \", longitude, \" and latitude: \", latitude, \". To view your predicted safety at your current location, press the buton below. Please note that our tool is not yet perfectly accurate, and we're currently working on gathering data on time\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePredict,\n        children: \"Check now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), danger !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"danger-message\",\n        children: danger\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(Safety, \"whJzcnSxJyuwoK0REN+pf7vuMTs=\", false, function () {\n  return [useGeolocated];\n});\n_c = Safety;\nexport default Safety;\nvar _c;\n$RefreshReg$(_c, \"Safety\");","map":{"version":3,"names":["React","useState","useEffect","useGeolocated","dog","Navbar","jsxDEV","_jsxDEV","Safety","_s","longitude","setLongitude","latitude","setLatitude","danger","setDanger","coords","handlePredict","response","fetch","method","headers","body","JSON","stringify","data","json","message","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","alt","height","onClick","_c","$RefreshReg$"],"sources":["/Users/madelinekim/Documents/GitHub/safe_walk_ai/client/src/components/Safety/Safety.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useGeolocated } from \"react-geolocated\";\nimport \"./styles.css\";\nimport dog from './dog.gif'\nimport Navbar from \"../Navbar/Navbar\";\n\nconst Safety = () => {\n  const [longitude, setLongitude] = useState(null);\n  const [latitude, setLatitude] = useState(null);\n  const [danger, setDanger] = useState(null);\n\n  const { coords } = useGeolocated();\n\n  useEffect(() => {\n    if (coords) {\n      setLongitude(coords.longitude);\n      setLatitude(coords.latitude);\n    }\n  }, [coords]);\n\n  const handlePredict = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5000/predict\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          longitude: longitude,\n          latitude: latitude,\n        }),\n      });\n      const data = await response.json();\n      setDanger(data.message);\n    } catch (error) {\n      console.error(\"Error predicting danger:\", error);\n    }\n  };\n\n  return (\n    <div>\n      <div> <Navbar /> </div>\n      <div className=\"container\">\n      <div className=\"heading\">How safe is it to walk in my area?</div>\n      <img src={dog} alt=\"doggif\" height=\"100vh\" className=\"dog\" /> \n      <div className=\"description\">Our safety prediction tool is built off of an AI model \n      trained using thousands of data points on violent crime in the Toronto area. We're currently tracking your location at longitude: {longitude} and latitude: {latitude}.\n      To view your predicted safety at your current location, press the buton below. Please note that our tool is not yet perfectly accurate, and we're currently working on gathering data on time</div>\n        <button onClick={handlePredict}>Check now</button>\n        {danger !== null && <div className=\"danger-message\">{danger}</div>}\n        </div>\n    </div>\n  );\n} \n\nexport default Safety;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}